# 🎴 화도쿠(WhaDoku) - 스도쿠 & 화투 족보 웹 게임

화도쿠는 전통적인 스도쿠 퍼즐에 한국의 화투 족보 시스템을 결합한 웹 게임입니다. 이 버전은 화투패 대신 귀여운 과일 이미지를 사용하여 누구나 쉽게 즐길 수 있도록 제작되었습니다.

플레이어는 스도쿠 규칙에 따라 보드를 채워나가면서, 가로/세로줄 및 3x3 블록에서 화투 족보를 완성하여 점수를 획득하는 것을 목표로 합니다.

## 🚀 실행 방법

이 프로젝트는 Vite 기반의 웹 애플리케이션입니다. 개발 환경 설정 및 실행 방법은 다음과 같습니다.

1.  **프로젝트 다운로드**: 이 프로젝트 폴더를 다운로드합니다.
2.  **의존성 설치**: 프로젝트 루트 디렉토리에서 터미널을 열고 다음 명령어를 실행하여 필요한 패키지들을 설치합니다.
    ```bash
    npm install
    ```
3.  **개발 서버 실행**: 다음 명령어를 실행하면 개발 서버가 시작되고, 웹 브라우저에서 게임을 플레이할 수 있습니다. 코드를 수정하면 자동으로 새로고침됩니다.
    ```bash
    npm run dev
    ```
4.  **배포용 빌드**: 프로덕션 환경에 배포하기 위한 최적화된 파일을 생성하려면 다음 명령어를 실행합니다. `dist` 폴더에 빌드 결과물이 생성됩니다.
    ```bash
    npm run build
    ```

## ✨ 주요 기능

*   **메인 메뉴**: 게임 시작 및 난이도/주제 선택이 가능한 초기 화면.
*   **난이도 조절**: 초급, 중급, 고급, **랜덤** 네 가지 레벨을 제공합니다. (랜덤 난이도는 글귀 길이에 따라 퍼즐 빈 칸 수가 결정됩니다.)
*   **인터랙티브 보드**: 마우스 클릭으로 쉽게 숫자를 입력하고 수정할 수 있습니다.
*   **족보 시스템**: 완성된 라인(가로, 세로, 3x3 블록)을 기반으로 화투 족보 점수를 계산하여 보여줍니다.
*   **상단 글귀 표시 제어**: '랜덤' 난이도를 제외한 다른 난이도에서는 게임 화면 상단에 글귀가 표시되지 않습니다.
*   **저장된 글귀 컬렉션**:
    *   메인 메뉴의 '달성' 블록을 통해 접근 가능합니다.
    *   각 주제별로 완료된 글귀 목록을 확인할 수 있습니다.
    *   **주제별 수집 진행률**: 각 주제 버튼의 배경이 해당 주제로 저장된 글귀 수(최대 360개)에 따라 퍼센티지로 채워집니다.
    *   목록은 페이지네이션(5개씩)으로 구성되며, 현재 필터링된 주제에 따라 모달 제목이 동적으로 변경됩니다.
*   **글귀 중복 저장 방지**: 완료된 글귀는 로컬 스토리지에 같은 주제, 같은 글귀인 경우 중복 저장되지 않습니다.
*   **안내 기능**: 게임 방법을 알려주는 '안내', 점수 계산법을 설명하는 '족보', 최고 기록을 볼 수 있는 '기록', 랭킹 정보를 보여주는 '랭크' 등 다양한 팝업창(모달)을 제공합니다.
*   **사운드 효과**: 버튼 클릭, 에러 발생 등 주요 상호작용에 대한 효과음이 포함되어 있습니다.

## 📂 프로젝트 구조

이 프로젝트는 Vite를 사용하여 개발되었으며, 순수 HTML, CSS, JavaScript로 구성되어 있습니다. 각 파일의 역할은 다음과 같습니다.

-   **`index.html`**: 모든 UI 요소가 포함된 기본 HTML 파일입니다. 새로운 '컬렉션 모달' 구조가 추가되었습니다.
-   **`package.json`**: 프로젝트 정보와 개발에 사용된 도구(Vite, prettier, eslint) 정보가 기록되어 있습니다.
-   **`sw.js`**: (향후 PWA/오프라인 지원 구현 시 추가될 서비스 워커 파일)

### `src/` - 소스 코드 폴더

-   **`css/`**: UI 스타일을 정의하는 CSS 파일들이 역할별로 분리되어 있습니다.
    -   `base.css`: 기본 스타일 초기화
    -   `layout.css`: 메인 메뉴, 게임 화면 등 전체 레이아웃
    -   `sudoku-board.css`: 스도쿠 보드 스타일
    -   `components.css`: 버튼, 모달 등 공통 컴포넌트 스타일
    -   `modals.css`: 새로운 '컬렉션 모달'을 포함한 모든 모달 스타일이 정의되어 있습니다.
    -   ... 등
-   **`js/`**: 게임의 모든 로직을 담당하는 JavaScript 파일들이 역할별로 분리되어 있습니다.
    -   `main.js`: 게임을 시작하고 초기화하는 메인 스크립트입니다.
    -   `game.js`: 핵심 게임 로직(보드 생성, 유효성 검사 등)을 담당합니다.
    -   `game-flow.js`: 메인 메뉴에서 게임 화면으로 전환하는 등 전체 게임의 흐름을 관리합니다. **랜덤 난이도 글귀 할당 로직 개선 및 완료된 글귀를 로컬 스토리지에 저장하는 로직이 추가되었습니다.**
    -   `hanafuda.js`: 족보를 계산하고 점수를 매기는 로직을 담당합니다.
    *   `state.js`: 게임의 현재 상태(예: 선택된 숫자, 보드 데이터)를 관리합니다. **컬렉션 모달 페이지네이션 관련 상태(`collectionCurrentPage`, `collectionPassagesPerPage`, `currentViewedCollectionPassages`)가 추가되었습니다.**
    -   `ui.js`: 화면의 요소를 업데이트하거나 변경하는 UI 관련 로직을 담당합니다. **새로운 '컬렉션 모달' UI 로직, 페이지네이션 렌더링(`renderPaginatedSavedPassages`), 동적 타이틀 설정이 구현되었습니다. `THEME_OPTIONS_UI`도 여기서 export 됩니다.**
    -   `events.js`: 사용자의 클릭과 같은 모든 이벤트를 처리합니다. **메인 메뉴 `achievement` 블록의 주제 버튼(컬렉션 접근) 로직과 페이지네이션 이벤트 리스너가 추가/수정되었습니다.**

### `public/` - 정적 자원 폴더

-   **`images/`**: 게임에 사용되는 모든 이미지 파일(화투, 버튼, 랭크 등)이 저장되어 있습니다.
-   **`sounds/`**: 게임 내 효과음 파일이 저장되어 있습니다.
-   **`favicon.png`**: 브라우저 탭에 표시되는 파비콘 이미지입니다.
-   **`data/passages/`**: 글귀 JSON 데이터 파일들이 저장되어 있습니다.

## 📝 향후 계획 및 개선 방안

이 프로젝트는 지속적인 발전을 위해 다음과 같은 개선 및 확장 가능성을 가지고 있습니다.

*   **PWA (Progressive Web App) 및 오프라인 지원**: 서비스 워커를 구현하여 앱을 PWA로 만들고, 오프라인 환경에서도 게임을 플레이할 수 있도록 지원합니다.
*   **Google Play 스토어 앱 전환**: 현재 웹 애플리케이션을 WebView 기반의 Android 앱으로 패키징하여 Google Play 스토어에 등록합니다.
*   **성능 최적화**: 로딩 속도, 자원 활용 등 전반적인 앱 성능을 추가적으로 최적화합니다.
*   **UI/UX 개선**: 사용자 피드백을 반영하여 인터페이스의 직관성과 편의성을 높입니다.
*   **콘텐츠 확장**: 더 많은 글귀 주제, 새로운 족보, 난이도 옵션 등을 추가하여 게임의 볼륨을 확장합니다.
*   **소셜 기능**: 게임 결과 공유, 친구 초대 등 소셜 기능을 추가하여 사용자 간의 상호작용을 증진합니다.
*   **코드 리팩토링 및 테스트**: 코드의 가독성, 유지보수성을 높이고, 단위/통합 테스트를 강화하여 앱의 안정성을 확보합니다.